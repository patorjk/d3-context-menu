!function(e,t){if("object"==typeof module&&module.exports)module.exports=function(e){return e.contextMenu=t(e),e.contextMenu};else if("function"==typeof define&&define.amd){try{var n=require("d3")}catch(t){n=e.d3}n.contextMenu=t(n),define([],function(){return n.contextMenu})}else e.d3&&(e.d3.contextMenu=t(e.d3))}(this,function(e){return function(t,n){var o,i;return"function"==typeof n?o=n:(o=(n=n||{}).onOpen,i=n.onClose),e.selectAll(".d3-context-menu").data([1]).enter().append("div").attr("class","d3-context-menu"),e.select("body").on("click.d3-context-menu",function(){e.select(".d3-context-menu").style("display","none"),i&&i()}),function(n,l){var c=this;e.selectAll(".d3-context-menu").html(""),e.selectAll(".d3-context-menu").on("contextmenu",function(t){e.select(".d3-context-menu").style("display","none"),e.event.preventDefault(),e.event.stopPropagation()}).append("ul").selectAll("li").data("function"==typeof t?t(n):t).enter().append("li").attr("class",function(e){var t="";return e.divider&&(t+=" is-divider"),e.disabled&&(t+=" is-disabled"),e.action||(t+=" is-header"),t}).html(function(e){return e.divider?"<hr>":(e.title||console.error("No title attribute set. Check the spelling of your options."),"string"==typeof e.title?e.title:e.title(n))}).on("click",function(t,o){t.disabled||t.action&&(t.action(c,n,l),e.select(".d3-context-menu").style("display","none"),i&&i())}),o&&!1===o(n,l)||(e.select(".d3-context-menu").style("left",e.event.pageX-2+"px").style("top",e.event.pageY-2+"px").style("display","block"),e.event.preventDefault(),e.event.stopPropagation())}}});
